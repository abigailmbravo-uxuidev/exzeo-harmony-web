
@import "_variables";
@import "utilities/_borders"; // scss-lint:disable QualifyingElement
//
// Textual form controls
//

input,
select,
textarea {
    // // Make inputs at least the height of their button counterpart (base line-height + padding + border)
    padding: $input-padding-y $input-padding-x;
    color: $input-color;
    border: $input-btn-border-width solid $input-border-color;
    background-color: $input-bg;
    // Reset unusual Firefox-on-Android default style; see https://github.com/necolas/normalize.css/issues/214.
    background-image: none;
    background-clip: padding-box;
    font-size: $font-size-base;
    line-height: $input-line-height;
    @include box-shadow($input-box-shadow);
    @include transition(border-color ease-in-out .15s, box-shadow ease-in-out .15s);
    // Customize the `:focus` state to imitate native WebKit styles.
    @include form-control-focus();

    &[type="checkbox"] {
        position: relative;
        width: 1rem;
        height: 1rem;
        box-shadow: none;
        line-height: 1;
    }

    &[type="radio"] {
        position: relative;
        width: 1rem;
        height: 1rem;
        box-shadow: none;
        line-height: 1;
    }

    &[type="file"] {
        width: 100%;
        //box-shadow: none;
    }
    // Note: This has no effect on <select>s in some browsers, due to the limited stylability of `<select>`s in CSS.
    @if $enable-rounded {
        // Manually use the if/else instead of the mixin to account for iOS override
        border-radius: $input-border-radius;
    }
    @else {
        // Otherwise undo the iOS default
        border-radius: 0;
    }
    // Unstyle the caret on `<select>`s in IE10+.
    &::-ms-expand {
        border: 0;
        background-color: transparent;
    }
    // Placeholder
    &::placeholder {
        // Override Firefox's unusual default opacity; see https://github.com/twbs/bootstrap/pull/11526.
        opacity: 1;
        color: $input-color-placeholder;
    }
    // Disabled and read-only inputs
    //
    // HTML5 says that controls under a fieldset > legend:first-child won't be
    // disabled if the fieldset is disabled. Due to implementation difficulty, we
    // don't honor that edge case; we style them as disabled anyway.
    &:disabled,
    &[readonly] {
        // iOS fix for unreadable disabled content; see https://github.com/twbs/bootstrap/issues/11655.
        opacity: 1;
        background-color: $input-bg-disabled;
    }

    &:disabled {
        cursor: $cursor-disabled;
    }
}

select {
    &:not([size]):not([multiple]) {
        height: calc(#{$input-height} - #{$select-border-width});
        $select-border-width: ($border-width * 2);
    }

    &:focus::-ms-value {
        // Suppress the nested default white text on blue background highlight given to
        // the selected option text when the (still closed) <select> receives focus
        // in IE and (under certain conditions) Edge, as it looks bad and cannot be made to
        // match the appearance of the native widget.
        // See https://github.com/twbs/bootstrap/issues/19398.
        color: $input-color;
        background-color: $input-bg;
    }
}
// Make file inputs better match text inputs by forcing them to new lines.

.form-control-range {
    border: none;
}
//
// Legends
//
// For use with horizontal and inline forms, when you need the legend text to
// be the same size as regular labels, and to align with the form controls.

.col-form-legend {
    margin-bottom: 0;
    padding-top: $input-padding-y;
    padding-bottom: $input-padding-y;
    font-size: $font-size-base;
}
// Static form control text
//
// Apply class to an element to make any string of text align with labels in a
// horizontal form layout.

.form-control-static {
    padding-top: $input-padding-y;
    padding-bottom: $input-padding-y;
    border: solid transparent;
    border-width: 1px 0;
    line-height: $input-line-height;
}
// Form groups
//
// Designed to help with the organization and spacing of vertical forms. For
// horizontal forms, use the predefined grid classes.
label {
    font-weight: $font-weight-bold;
}

.form-group {
    margin-bottom: $form-group-margin-bottom;

    .h1,
    .h2,
    .h3,
    .h4,
    .h5,
    .h6,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        flex-basis: 100%;
    }
}

.form-group {
    display: flex;
    flex-direction: column;
    padding: 0 $padding/2;

    &.row[role="group"] {
        margin: 0 -($padding/2);
    }

    &.row {
        flex-direction: row;
    }
}

.form-group {
    &.segmented {
        flex-direction: row;

        span {
            display: inline-block;
            width: 100%;
            cursor: pointer;
            user-select: none;
            text-align: center;
            vertical-align: middle;
            white-space: nowrap;
            border: $input-btn-border-width solid transparent;
            font-weight: $btn-font-weight;
            line-height: $btn-line-height;
            @include button-size($btn-padding-y, $btn-padding-x, $font-size-base, 0);
            @include transition(all .2s ease-in-out);
            @include button-variant($btn-default-color, $btn-default-bg, $btn-default-border);

            &,
            &.active,
            &:active {
                &.focus,
                &:focus {
                    @include tab-focus();
                }
            }
        }

        input[type=radio] {
            display: none;

            &:checked {
                + span {
                    color: $white;
                    background: $bright-blue;
                }
            }
        }

        label {
            border-right: 1px solid $warm-gray-01;
            flex: 1;

            &:first-child {
                span {
                    border-radius: $border-radius 0 0 $border-radius;
                }
            }

            &:last-child {
                border-right-width: 0;

                span {
                    border-radius: 0 $border-radius $border-radius 0;
                }
            }
        }
    }

    &.switch {
        flex-direction: row;
        flex-wrap: wrap;

        label {
            display: flex;
            flex-direction: row;
            width: 100%;
            line-height: 1.45;
            justify-content: space-between;
            align-items: center;

            input[type="checkbox"], input[type="radio"] {
                display: none;

                &:checked {
                    + div {
                        background-color: $bright-blue;

                        &:before {
                            -webkit-transform: translateX(1.5rem);
                            -ms-transform: translateX(1.5rem);
                            transform: translateX(1.5rem);
                        }

                        &:after {
                            top: 0.125rem;
                            left: 0.25rem;
                            content: "Yes";
                            color: $white;
                        }
                    }
                }
            }

            div {
                position: relative;
                width: 2.5rem;
                height: 1rem;
                margin: 0.225rem 0;
                cursor: pointer;
                -webkit-transition: 0.4s;
                transition: 0.4s;
                border-radius: 0.5rem;
                background: $warm-gray-03;
                flex-basis: 2.5rem;
                flex-grow: 0;
                flex-shrink: 0;

                &:before {
                    position: absolute;
                    z-index: 2;
                    width: 1rem;
                    height: 1rem;
                    content: "";
                    -webkit-transition: 0.4s;
                    transition: 0.4s;
                    border: 1px solid $warm-gray-05;
                    border-radius: 50%;
                    background-color: white;
                    box-shadow: $input-box-shadow;
                }

                &:after {
                    position: absolute;
                    z-index: 1;
                    top: 0.125rem;
                    left: 1.25rem;
                    content: "No";
                    font-size: 0.7rem;
                    font-weight: $font-weight-bold;
                    line-height: 1;
                }
            }
        }
    }
}

.submit-button-group {
    flex-direction: row;
    width: 100%;
    justify-content: flex-end;

    button[type="submit"] {
        margin-left: 1rem;
    }
}

&.disabled,
[disabled="disabled"] {
    cursor: $cursor-disabled;
    color: $text-muted;

    input,
    select,
    textarea {
        cursor: $cursor-disabled;
        color: $text-muted;
    }
}
